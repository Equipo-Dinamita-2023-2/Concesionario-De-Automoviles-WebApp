{"ast":null,"code":"import React,{useEffect,useState}from'react';import Cabecera from'../componentes/cabecera';import Footer from'../componentes/footer';import'../estilos/productos.css';import{AiOutlineShoppingCart}from'react-icons/ai';import carro from'../imagenes/carroazul.jpg';import repuesto from'../imagenes/repuestos-carro.jpg';import{obtenerTipoV}from'../api/tipoV-api';import{obtenerRepuesto}from'../api/repuesto-api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Opciones(){return/*#__PURE__*/_jsx(\"div\",{className:\"container\"});}function Carta(_ref){let{producto}=_ref;const imagenUrl=producto.nombre_repuesto?repuesto:carro;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image\",children:/*#__PURE__*/_jsx(\"img\",{src:imagenUrl,alt:\"\",id:\"imagen-producto\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-name\",children:producto.marca&&producto.modelo?\"\".concat(producto.marca,\" - \").concat(producto.modelo):producto.nombre_repuesto}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:producto.anho&&producto.color?\"Este veh\\xEDculo es del a\\xF1o \".concat(producto.anho,\" y es de color \").concat(producto.color):producto.descripcion}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[\"$\",producto.precio]}),/*#__PURE__*/_jsx(\"button\",{className:\"add-to-cart-button\",children:\"Add to cart\"})]})]});}function CrearProductos(_ref2){let{productos}=_ref2;const renderizarElemento=producto=>/*#__PURE__*/_jsx(\"div\",{className:\"elemento\",children:/*#__PURE__*/_jsx(Carta,{producto:producto})},producto.id);return/*#__PURE__*/_jsx(\"div\",{className:\"repetirCodigo\",children:productos.map(renderizarElemento)});}function Boton(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-carrito\",children:/*#__PURE__*/_jsx(AiOutlineShoppingCart,{})})});}function Productos(){const[listaDeProductos,setListaDeProductos]=useState([]);const[busqueda,setBusqueda]=useState('');useEffect(()=>{async function cargarDatos(){try{// Obtener vehículos\nconst vehiculos=await obtenerTipoV();// Obtener repuestos\nconst repuestos=await obtenerRepuesto();// Combinar vehículos y repuestos en una sola lista de productos\nconst listaTotalProductos=[...vehiculos,...repuestos];// Asignar la lista combinada al estado\nsetListaDeProductos(listaTotalProductos);console.log(listaDeProductos);}catch(error){console.error(\"Error al cargar datos:\",error);}}cargarDatos();},[]);const handleBusquedaChange=event=>{setBusqueda(event.target.value);};const productosFiltrados=listaDeProductos.filter(producto=>\"\".concat(producto.marca,\" \").concat(producto.modelo,\" \").concat(producto.anho,\" \").concat(producto.color,\" \").concat(producto.nombre_repuesto).toLowerCase().includes(busqueda.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{id:\"cuerpo\",children:[/*#__PURE__*/_jsx(Cabecera,{}),/*#__PURE__*/_jsx(\"div\",{className:\"contenedor-con-imagen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formulario-busqueda\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"busqueda\",placeholder:\"Buscar...\",value:busqueda,onChange:handleBusquedaChange}),/*#__PURE__*/_jsx(\"button\",{id:\"boton-buscar\",children:\"Buscar\"})]})}),/*#__PURE__*/_jsx(\"h1\",{className:\"titulos\",children:\"Productos\"}),/*#__PURE__*/_jsx(Opciones,{}),/*#__PURE__*/_jsx(CrearProductos,{productos:productosFiltrados}),/*#__PURE__*/_jsx(Boton,{}),/*#__PURE__*/_jsx(Footer,{})]});}export default Productos;","map":{"version":3,"names":["React","useEffect","useState","Cabecera","Footer","AiOutlineShoppingCart","carro","repuesto","obtenerTipoV","obtenerRepuesto","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Opciones","className","Carta","_ref","producto","imagenUrl","nombre_repuesto","children","src","alt","id","marca","modelo","concat","anho","color","descripcion","precio","CrearProductos","_ref2","productos","renderizarElemento","map","Boton","Productos","listaDeProductos","setListaDeProductos","busqueda","setBusqueda","cargarDatos","vehiculos","repuestos","listaTotalProductos","console","log","error","handleBusquedaChange","event","target","value","productosFiltrados","filter","toLowerCase","includes","type","placeholder","onChange"],"sources":["/home/ihuntgore/Escritorio/github-repos/Concesionario-De-Automoviles-WebApp/pag-react/src/paginas/productos.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Cabecera from '../componentes/cabecera';\nimport Footer from '../componentes/footer';\nimport '../estilos/productos.css';\nimport { AiOutlineShoppingCart } from 'react-icons/ai';\nimport carro from '../imagenes/carroazul.jpg';\nimport repuesto from '../imagenes/repuestos-carro.jpg';\nimport { obtenerTipoV } from '../api/tipoV-api';\nimport { obtenerRepuesto } from '../api/repuesto-api';\n\nfunction Opciones() {\n  return <div className=\"container\">{/* Aquí puedes colocar opciones adicionales si es necesario */}</div>;\n}\n\nfunction Carta({ producto}) {\n\n  const imagenUrl = producto.nombre_repuesto ? repuesto : carro;\n  return (\n    <>\n    <div className=\"product-image\">\n      <img src={imagenUrl} alt=\"\" id=\"imagen-producto\" />\n    </div>\n    <div className=\"product-details\">\n      <div className=\"product-name\">\n        {producto.marca && producto.modelo\n          ? `${producto.marca} - ${producto.modelo}`\n          : producto.nombre_repuesto}\n      </div>\n      <p className=\"product-description\">\n        {producto.anho && producto.color\n          ? `Este vehículo es del año ${producto.anho} y es de color ${producto.color}`\n          : producto.descripcion}\n      </p>\n      <div className=\"product-price\">${producto.precio}</div>\n      <button className=\"add-to-cart-button\">Add to cart</button>\n    </div>\n  </>\n  );\n}\n\nfunction CrearProductos({ productos }) {\n  const renderizarElemento = (producto) => (\n    <div className=\"elemento\" key={producto.id}>\n      <Carta producto={producto} />\n    </div>\n  );\n  return <div className=\"repetirCodigo\">{productos.map(renderizarElemento)}</div>;\n}\n\n\nfunction Boton() {\n  return (\n    <>\n      <button className=\"btn-carrito\">\n        <AiOutlineShoppingCart />\n      </button>\n    </>\n  );\n}\n\nfunction Productos() {\n  const [listaDeProductos, setListaDeProductos] = useState([]);\n  const [busqueda, setBusqueda] = useState('');\n\n  useEffect(() => {\n    async function cargarDatos() {\n      try {\n        // Obtener vehículos\n        const vehiculos = await obtenerTipoV();\n        \n        // Obtener repuestos\n        const repuestos = await obtenerRepuesto();\n  \n        // Combinar vehículos y repuestos en una sola lista de productos\n        const listaTotalProductos = [...vehiculos, ...repuestos];\n  \n        // Asignar la lista combinada al estado\n        setListaDeProductos(listaTotalProductos);\n        console.log(listaDeProductos);\n      } catch (error) {\n        console.error(\"Error al cargar datos:\", error);\n      }\n    }\n  \n    cargarDatos();\n  }, []);\n\n  const handleBusquedaChange = (event) => {\n    setBusqueda(event.target.value);\n  };\n\n  const productosFiltrados = listaDeProductos.filter((producto) =>\n    `${producto.marca} ${producto.modelo} ${producto.anho} ${producto.color} ${producto.nombre_repuesto}`.toLowerCase().includes(busqueda.toLowerCase())\n  );\n\n  return (\n    <div id=\"cuerpo\">\n      <Cabecera />\n      <div className=\"contenedor-con-imagen\">\n      <div className=\"formulario-busqueda\">\n        <input type=\"text\" id=\"busqueda\" placeholder=\"Buscar...\" value={busqueda}\n          onChange={handleBusquedaChange}/>\n        <button id=\"boton-buscar\">Buscar</button>\n      </div>\n    </div>\n\n      <h1 className=\"titulos\">Productos</h1>\n      <Opciones />\n      <CrearProductos productos={productosFiltrados} />\n      <Boton />\n      <Footer />\n    </div>\n  );\n}\n\nexport default Productos;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}