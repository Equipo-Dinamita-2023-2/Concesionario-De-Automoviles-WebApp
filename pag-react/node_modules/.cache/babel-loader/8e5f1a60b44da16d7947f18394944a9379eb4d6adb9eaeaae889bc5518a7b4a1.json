{"ast":null,"code":"import React,{useState,useEffect}from'react';import{IoBuild}from\"react-icons/io5\";import{SiSpeedtest}from\"react-icons/si\";import{AiOutlineCheck}from\"react-icons/ai\";import{TbUserCheck}from\"react-icons/tb\";import{MdOutlineDone}from\"react-icons/md\";import'../estilos/progreso.css';import{obtenerReparaciones}from'../api/reparacion-api';import{useUsername}from'../componentes/username';import Footer from'../componentes/footer.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProgresoCodigo(){const{username}=useUsername();const[etapa,setEtapa]=useState(1);const[estadoReparacion,setEstadoReparacion]=useState('');useEffect(()=>{async function cargarReparaciones(){try{const res=await obtenerReparaciones();// Filtra las reparaciones donde cod_cliente es igual al username\nconst reparacionesUsuario=res.filter(reparacion=>reparacion.cod_cliente===username);// Extrae el estado_reparacion de la primera reparación del usuario\nconst estado=reparacionesUsuario.length>0?reparacionesUsuario[0].estado_reparacion:'';console.log('Username en Progreso:',username);setEstadoReparacion(estado);console.log(estado);}catch(error){console.error(\"Error al cargar el estado de reparación:\",error);}}cargarReparaciones();},[username]);useEffect(()=>{switch(estadoReparacion){case'En proceso':setEtapa(1);break;case'Pruebas':setEtapa(2);break;case'Finalizado':setEtapa(3);break;case'Entregado':setEtapa(4);break;default:console.log('error');}},[estadoReparacion]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"contenedor-progreso\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"ul\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"li \".concat(etapa>=1?'active':''),children:[/*#__PURE__*/_jsx(IoBuild,{className:\"icono-progreso\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress one \".concat(etapa>=1?'active':''),children:[/*#__PURE__*/_jsx(\"p\",{children:\"1\"}),/*#__PURE__*/_jsx(MdOutlineDone,{className:\"hecho\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-progress\",children:\"En proceso\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"li \".concat(etapa>=2?'active':''),children:[/*#__PURE__*/_jsx(SiSpeedtest,{className:\"icono-progreso\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress two \".concat(etapa>=2?'active':''),children:[/*#__PURE__*/_jsx(\"p\",{children:\"2\"}),/*#__PURE__*/_jsx(MdOutlineDone,{className:\"hecho\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-progress\",children:\"Pruebas\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"li \".concat(etapa>=3?'active':''),children:[/*#__PURE__*/_jsx(AiOutlineCheck,{className:\"icono-progreso\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress three \".concat(etapa>=3?'active':''),children:[/*#__PURE__*/_jsx(\"p\",{children:\"3\"}),/*#__PURE__*/_jsx(MdOutlineDone,{className:\"hecho\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-progress\",children:\"Finalizado\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"li \".concat(etapa>=4?'active':''),children:[/*#__PURE__*/_jsx(TbUserCheck,{className:\"icono-progreso\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress four \".concat(etapa===4?'active':''),children:[/*#__PURE__*/_jsx(\"p\",{children:\"4\"}),/*#__PURE__*/_jsx(MdOutlineDone,{className:\"hecho\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-progress\",children:\"Entregado\"})]})]})})});}function Progreso(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"titulos\",children:\"Estado de reparaci\\xF3n\"}),/*#__PURE__*/_jsx(ProgresoCodigo,{}),/*#__PURE__*/_jsx(Footer,{})]});}export default Progreso;","map":{"version":3,"names":["React","useState","useEffect","IoBuild","SiSpeedtest","AiOutlineCheck","TbUserCheck","MdOutlineDone","obtenerReparaciones","useUsername","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProgresoCodigo","username","etapa","setEtapa","estadoReparacion","setEstadoReparacion","cargarReparaciones","res","reparacionesUsuario","filter","reparacion","cod_cliente","estado","length","estado_reparacion","console","log","error","children","className","concat","Progreso"],"sources":["/home/ihuntgore/Escritorio/github-repos/Concesionario-De-Automoviles-WebApp/pag-react/src/paginas/progreso.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { IoBuild } from \"react-icons/io5\";\nimport { SiSpeedtest } from \"react-icons/si\";\nimport { AiOutlineCheck } from \"react-icons/ai\";\nimport { TbUserCheck } from \"react-icons/tb\";\nimport { MdOutlineDone } from \"react-icons/md\";\nimport '../estilos/progreso.css';\nimport { obtenerReparaciones } from '../api/reparacion-api';\nimport { useUsername } from '../componentes/username';\nimport Footer from '../componentes/footer.js';\n\n\nfunction ProgresoCodigo() {\n    const { username } = useUsername();\n    const [etapa, setEtapa] = useState(1);\n    const [estadoReparacion, setEstadoReparacion] = useState('');\n\n    useEffect(() => {\n        async function cargarReparaciones() {\n            try {\n                const res = await obtenerReparaciones();\n                \n                // Filtra las reparaciones donde cod_cliente es igual al username\n                const reparacionesUsuario = res.filter(reparacion => reparacion.cod_cliente === username);\n                \n                // Extrae el estado_reparacion de la primera reparación del usuario\n                const estado = reparacionesUsuario.length > 0 ? reparacionesUsuario[0].estado_reparacion : '';\n                \n                console.log('Username en Progreso:', username);\n                setEstadoReparacion(estado);\n                console.log(estado);\n                \n            } catch (error) {\n                console.error(\"Error al cargar el estado de reparación:\", error);\n            }\n        }\n        cargarReparaciones();\n    }, [username]);\n    \n    useEffect(() => {\n        switch (estadoReparacion) {\n            case 'En proceso':\n                setEtapa(1);\n                break;\n            case 'Pruebas':\n                setEtapa(2);\n                break;\n            case 'Finalizado':\n                setEtapa(3);\n                break;\n            case 'Entregado':\n                setEtapa(4);\n                break;\n            default:\n                console.log('error');\n        }\n    }, [estadoReparacion]);\n    return (\n    <>\n    \n    <div className=\"contenedor-progreso\">\n        <ul className='ul'>\n            <li className={`li ${etapa >= 1 ? 'active' : ''}`}>\n                <IoBuild className='icono-progreso' />\n                <div className={`progress one ${etapa >= 1 ? 'active' : ''}`}>\n                    <p>1</p>\n                    <MdOutlineDone className='hecho' />\n                </div>\n                <p className='text-progress'>En proceso</p>\n            </li>\n\n            <li className={`li ${etapa >= 2 ? 'active' : ''}`}>\n                <SiSpeedtest className='icono-progreso' />\n                <div className={`progress two ${etapa >= 2 ? 'active' : ''}`}>\n                    <p>2</p>\n                    <MdOutlineDone className='hecho' />\n                </div>\n                <p className='text-progress'>Pruebas</p>\n            </li>\n\n            <li className={`li ${etapa >= 3 ? 'active' : ''}`} >\n                <AiOutlineCheck className='icono-progreso' />\n                <div className={`progress three ${etapa >= 3 ? 'active' : ''}`}>\n                    <p>3</p>\n                    <MdOutlineDone className='hecho' />\n                </div>\n                <p className='text-progress'>Finalizado</p>\n            </li>\n\n            <li className={`li ${etapa >= 4 ? 'active' : ''}`}>\n                <TbUserCheck className='icono-progreso'></TbUserCheck>\n                <div className={`progress four ${etapa === 4 ? 'active' : ''}`}>\n                    <p>4</p>\n                    <MdOutlineDone className='hecho' />\n                </div>\n                <p className='text-progress'>Entregado</p>\n            </li>\n      </ul>\n    </div>\n    </>\n  );\n}\n\nfunction Progreso(){\n    return(\n        <>\n        <h1 className='titulos'>Estado de reparación</h1>\n        <ProgresoCodigo/>\n        <Footer/>\n        </>\n    )\n}\n\nexport default Progreso;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}